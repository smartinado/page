<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Insights | Tasmagic download telemetry</title>
    <link rel="stylesheet" href="assets/styles.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="wrap">
        <a class="logo" href="index.html">tasmagic</a>
        <nav>
          <a href="index.html">Overview</a>
          <a href="experience.html">Experience</a>
          <a href="variants.html">Variants</a>
          <a href="insights.html" class="active">Insights</a>
          <a href="contact.html">Contact</a>
        </nav>
      </div>
    </header>

    <main>
      <section class="section">
        <h1>Download insights</h1>
        <p>
          GitHub Pages does not offer built-in analytics, so I use a lightweight endpoint powered by CountAPI to understand how often the
          community downloads the APK. It stores only the counter value—no IP addresses or personal data—and the logic lives in this
          repository for transparency.
        </p>
      </section>

      <section class="section analytics">
        <div>
          <p class="label">Total APK downloads</p>
          <p id="download-total" class="stat">--</p>
        </div>
        <div>
          <p class="label">Last recorded download</p>
          <p id="download-last" class="stat">--</p>
        </div>
        <button class="btn ghost" onclick="refreshDownloadStats()">Refresh stats</button>
      </section>

      <section class="section">
        <h2>How it works</h2>
        <ol>
          <li>Every download button calls <code>recordDownload</code> from <code>assets/js/download-tracker.js</code>.</li>
          <li>The script hits <code>https://api.countapi.xyz/hit/tasmagic-app/downloads</code>, which increments a public counter.</li>
          <li>
            This page calls <code>https://api.countapi.xyz/get/tasmagic-app/downloads</code> to display the aggregate count. All code is open in this
            repository.
          </li>
        </ol>
        <p>
          If you prefer self-hosted analytics, feel free to fork the project and point the tracker at your own endpoint. The code is organized so
          you can swap the URL from a single place.
        </p>
      </section>
    </main>

    <footer>
      <p>© <span id="year"></span> Tasmagic · Built and maintained by Kamal Farai.</p>
    </footer>

    <script src="assets/js/download-tracker.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
